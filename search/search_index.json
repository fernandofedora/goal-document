{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Goals System","text":"<p>Bienvenido a la documentaci\u00f3n de goals-system. Aqu\u00ed encontrar\u00e1s:</p> <ul> <li>Gu\u00eda para usuarios finales (c\u00f3mo usar el sistema)</li> <li>Documentaci\u00f3n t\u00e9cnica para desarrolladores (arquitectura, instalaci\u00f3n, API, BD)</li> </ul> <p>Usa el men\u00fa superior para navegar por las secciones. Puedes activar el modo oscuro desde el toggle en la barra de navegaci\u00f3n.</p>"},{"location":"repos/","title":"Repositorios del proyecto","text":"<ul> <li>API (goals-server): https://github.com/fernandofedora/goals-server</li> <li>Frontend (goals-client): https://github.com/fernandofedora/goals-client</li> </ul>"},{"location":"repos/#que-encontraras","title":"\u00bfQu\u00e9 encontrar\u00e1s?","text":"<ul> <li>En goals-server: el API Express + Sequelize, rutas, modelos y despliegue.</li> <li>En goals-client: el frontend React + Vite, componentes y vistas.</li> </ul>"},{"location":"dev/","title":"Introducci\u00f3n t\u00e9cnica","text":"<p>Este apartado re\u00fane la documentaci\u00f3n t\u00e9cnica del proyecto.</p> <ul> <li>Tecnolog\u00edas: <code>React + Vite</code> para el frontend, <code>Node.js + Express</code> para el API, <code>PostgreSQL</code> para la base de datos.</li> <li>Repositorios:</li> <li>Frontend: https://github.com/fernandofedora/goals-client</li> <li>Backend: https://github.com/fernandofedora/goals-server</li> </ul>"},{"location":"dev/#objetivos","title":"Objetivos","text":"<ul> <li>Estandarizar instalaci\u00f3n, configuraci\u00f3n y despliegue.</li> <li>Explicar arquitectura y responsabilidades de cada m\u00f3dulo.</li> <li>Documentar endpoints, modelos y flujos de negocio.</li> </ul>"},{"location":"dev/arquitectura/","title":"Arquitectura","text":"<p>El sistema se compone de tres capas principales:</p> <ul> <li><code>goals-client</code>: Interfaz web hecha con React + Vite.</li> <li><code>goals-server</code>: API REST con Express (Node.js), autenticaci\u00f3n y l\u00f3gica de negocio.</li> <li><code>PostgreSQL</code>: Persistencia de datos.</li> </ul> <pre><code>flowchart LR\n  A[\"goals-client (React + Vite)\"] --&gt; B[\"goals-server (Express API)\"]\n  B --&gt; C[\"PostgreSQL\"]\n  A --&gt; D[\"GitHub Pages (Docs)\"]</code></pre>"},{"location":"dev/arquitectura/#responsabilidades","title":"Responsabilidades","text":"<ul> <li>Frontend: Formularios de transacciones, presupuestos, tarjetas, reportes.</li> <li>API: Autenticaci\u00f3n JWT, endpoints de categor\u00edas, tarjetas, transacciones, presupuestos, estad\u00edsticas.</li> <li>DB: Esquema relacional y restricciones.</li> </ul>"},{"location":"dev/backend/","title":"Backend/API (goals-server)","text":""},{"location":"dev/backend/#vision-general","title":"Visi\u00f3n general","text":"<ul> <li>Framework: Express con Sequelize.</li> <li>Rutas principales: <code>/api/auth</code>, <code>/api/categories</code>, <code>/api/cards</code>, <code>/api/transactions</code>, <code>/api/budgets</code>, <code>/api/stats</code>.</li> <li>Seguridad: JWT en el header <code>Authorization: Bearer &lt;token&gt;</code> para todas las rutas (excepto <code>auth</code>).</li> </ul>"},{"location":"dev/backend/#puesta-en-marcha","title":"Puesta en marcha","text":"<ul> <li>Clonar: <code>git clone https://github.com/fernandofedora/goals-server</code></li> <li>Instalar: <code>npm install</code></li> <li><code>.env</code> requerido:</li> <li><code>SECRET_KEY</code> (para firmar JWT)</li> <li>Credenciales de DB (<code>DATABASE_URL</code> o variables por separado)</li> <li>Ejecutar: <code>npm run dev</code> (<code>http://localhost:4000</code>)</li> </ul> <p>Base URL: - <code>http://localhost:4000/api</code></p>"},{"location":"dev/backend/#autenticacion-avanzada","title":"Autenticaci\u00f3n avanzada","text":"Bash (macOS/Linux) <pre><code># Login y captura del token\nTOKEN=$(curl -s -X POST http://localhost:4000/api/auth/login \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"email\":\"ana@example.com\",\"password\":\"secret123\"}' | jq -r .token)\n\n# Usar el token en una petici\u00f3n autenticada\ncurl -s http://localhost:4000/api/categories \\\n  -H \"Authorization: Bearer $TOKEN\" | jq\n</code></pre> PowerShell (Windows) <pre><code># Login y captura del token\n$body = @{ email = 'ana@example.com'; password = 'secret123' } | ConvertTo-Json\n$response = Invoke-RestMethod -Method Post -Uri 'http://localhost:4000/api/auth/login' -ContentType 'application/json' -Body $body\n$TOKEN = $response.token\n\n# Usar el token\nInvoke-RestMethod -Uri 'http://localhost:4000/api/categories' -Headers @{ Authorization = \"Bearer $TOKEN\" }\n</code></pre> HTTPie <pre><code># Login\nhttp POST :4000/api/auth/login email=ana@example.com password=secret123\n# Con bearer\nhttp GET :4000/api/categories Authorization:\"Bearer &lt;jwt&gt;\"\n</code></pre>"},{"location":"dev/backend/#autenticacion-apiauth","title":"Autenticaci\u00f3n (<code>/api/auth</code>)","text":"<ul> <li><code>POST /register</code></li> <li>Body: <code>{ name, email, password }</code></li> <li>Respuestas:<ul> <li><code>200</code>: <code>{ id, name, email }</code></li> <li><code>400</code>: <code>Email already registered</code></li> </ul> </li> <li><code>POST /login</code></li> <li>Body: <code>{ email, password }</code></li> <li><code>200</code>: <code>{ token, user: { id, name, email } }</code></li> <li><code>400</code>: <code>Invalid credentials</code></li> <li><code>POST /reset-start</code></li> <li>Body: <code>{ email }</code></li> <li><code>200</code>: <code>{ exists: boolean }</code></li> <li><code>POST /reset</code></li> <li>Body: <code>{ email, password }</code></li> <li><code>200</code>: <code>{ success: true }</code> o <code>404: Email not found</code></li> </ul> <p>Uso del token: - A\u00f1ade <code>Authorization: Bearer &lt;token&gt;</code> en todas las dem\u00e1s rutas.</p>"},{"location":"dev/backend/#ejemplos","title":"Ejemplos","text":"<pre><code>// POST /api/auth/register (request)\n{\n  \"name\": \"Ana\",\n  \"email\": \"ana@example.com\",\n  \"password\": \"secret123\"\n}\n\n// 200 (response)\n{\n  \"id\": 1,\n  \"name\": \"Ana\",\n  \"email\": \"ana@example.com\"\n}\n</code></pre> <pre><code>// POST /api/auth/login (request)\n{\n  \"email\": \"ana@example.com\",\n  \"password\": \"secret123\"\n}\n\n// 200 (response)\n{\n  \"token\": \"&lt;jwt&gt;\",\n  \"user\": { \"id\": 1, \"name\": \"Ana\", \"email\": \"ana@example.com\" }\n}\n</code></pre> <pre><code>// POST /api/auth/reset-start (request)\n{ \"email\": \"ana@example.com\" }\n\n// 200 (response)\n{ \"exists\": true }\n</code></pre> <pre><code>// POST /api/auth/reset (request)\n{ \"email\": \"ana@example.com\", \"password\": \"newPass123\" }\n\n// 200 (response)\n{ \"success\": true }\n</code></pre> curl <pre><code>curl -X POST http://localhost:4000/api/auth/login \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"email\":\"ana@example.com\",\"password\":\"secret123\"}'\n</code></pre> HTTPie <pre><code>http POST :4000/api/auth/login email=ana@example.com password=secret123\n</code></pre>"},{"location":"dev/backend/#codigos-de-estado","title":"C\u00f3digos de estado","text":"Operaci\u00f3n 200 400 404 500 register creado usuario email ya registrado \u2014 error servidor login token y usuario credenciales inv\u00e1lidas \u2014 error servidor reset-start exists: true/false email requerido \u2014 error servidor reset success: true email/password requeridos email no encontrado error servidor"},{"location":"dev/backend/#categorias-apicategories-auth","title":"Categor\u00edas (<code>/api/categories</code>) [auth]","text":"<ul> <li><code>GET /</code> \u2192 Lista categor\u00edas del usuario.</li> <li><code>POST /</code> \u2192 Crea categor\u00eda.</li> <li>Body: <code>{ name, color, type }</code> con <code>type \u2208 { 'expense', 'income' }</code></li> <li><code>200</code>: <code>{ id, name, color, type, UserId }</code></li> <li><code>PUT /:id</code> \u2192 Actualiza nombre/color/type.</li> <li><code>DELETE /:id</code> \u2192 Elimina.</li> </ul> <p>Notas: - El sistema separa categor\u00edas por tipo (gasto/ingreso) para simplificar el filtrado.</p>"},{"location":"dev/backend/#ejemplos_1","title":"Ejemplos","text":"<pre><code>// GET /api/categories (response)\n[\n  { \"id\": 10, \"name\": \"Alimentaci\u00f3n\", \"color\": \"#22c55e\", \"type\": \"expense\", \"UserId\": 1 },\n  { \"id\": 11, \"name\": \"Salario\", \"color\": \"#3b82f6\", \"type\": \"income\", \"UserId\": 1 }\n]\n</code></pre> <pre><code>// POST /api/categories (request)\n{ \"name\": \"Transporte\", \"color\": \"#f59e0b\", \"type\": \"expense\" }\n\n// 200 (response)\n{ \"id\": 12, \"name\": \"Transporte\", \"color\": \"#f59e0b\", \"type\": \"expense\", \"UserId\": 1 }\n</code></pre> curl <pre><code>curl -X GET http://localhost:4000/api/categories \\\n  -H \"Authorization: Bearer &lt;token&gt;\"\n</code></pre> HTTPie <pre><code>http :4000/api/categories \"Authorization:Bearer &lt;token&gt;\"\n</code></pre>"},{"location":"dev/backend/#codigos-de-estado_1","title":"C\u00f3digos de estado","text":"Operaci\u00f3n 200 400 404 500 list array de categor\u00edas \u2014 \u2014 error servidor create categor\u00eda creada cuerpo inv\u00e1lido \u2014 error servidor update categor\u00eda actualizada cuerpo inv\u00e1lido no encontrada error servidor delete { success: true } \u2014 no encontrada error servidor"},{"location":"dev/backend/#tarjetas-apicards-auth","title":"Tarjetas (<code>/api/cards</code>) [auth]","text":"<ul> <li><code>GET /</code> \u2192 Lista tarjetas.</li> <li><code>POST /</code> \u2192 Crea tarjeta.</li> <li>Body: <code>{ name, color, last4 }</code></li> <li><code>PUT /:id</code> \u2192 Actualiza <code>{ name, color, last4 }</code></li> <li><code>DELETE /:id</code> \u2192 Elimina.</li> </ul> <p>Notas: - Las tarjetas solo se usan cuando <code>paymentMethod = 'card'</code> en gastos.</p>"},{"location":"dev/backend/#ejemplos_2","title":"Ejemplos","text":"<pre><code>// GET /api/cards (response)\n[\n  { \"id\": 5, \"name\": \"Visa Personal\", \"color\": \"#0ea5e9\", \"last4\": \"1234\", \"UserId\": 1 }\n]\n</code></pre> <pre><code>// POST /api/cards (request)\n{ \"name\": \"Mastercard Trabajo\", \"color\": \"#f43f5e\", \"last4\": \"9876\" }\n\n// 200 (response)\n{ \"id\": 6, \"name\": \"Mastercard Trabajo\", \"color\": \"#f43f5e\", \"last4\": \"9876\", \"UserId\": 1 }\n</code></pre> curl <pre><code>curl -X POST http://localhost:4000/api/cards \\\n  -H \"Authorization: Bearer &lt;token&gt;\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"name\":\"Visa Personal\",\"color\":\"#0ea5e9\",\"last4\":\"1234\"}'\n</code></pre> HTTPie <pre><code>http POST :4000/api/cards Authorization:\"Bearer &lt;token&gt;\" \\\n  name=\"Visa Personal\" color=\"#0ea5e9\" last4=\"1234\"\n</code></pre>"},{"location":"dev/backend/#codigos-de-estado_2","title":"C\u00f3digos de estado","text":"Operaci\u00f3n 200 400 404 500 list array de tarjetas \u2014 \u2014 error servidor create tarjeta creada cuerpo inv\u00e1lido \u2014 error servidor update tarjeta actualizada cuerpo inv\u00e1lido no encontrada error servidor delete { success: true } \u2014 no encontrada error servidor"},{"location":"dev/backend/#transacciones-apitransactions-auth","title":"Transacciones (<code>/api/transactions</code>) [auth]","text":"<ul> <li><code>GET /</code></li> <li>Devuelve transacciones del usuario con <code>include: [Category, Card]</code> ordenadas por <code>date DESC</code>.</li> <li><code>POST /</code></li> <li>Body: <code>{ type, description, categoryId, amount, date, paymentMethod, cardId }</code></li> <li>Crea y devuelve la transacci\u00f3n incluyendo relaciones.</li> <li><code>PUT /:id</code></li> <li>Actualiza los mismos campos; mantiene coherencia: <code>CategoryId = categoryId || null</code>, <code>CardId = cardId || null</code>.</li> <li><code>DELETE /:id</code></li> <li>Elimina la transacci\u00f3n si pertenece al usuario.</li> </ul> <p>Validaciones de negocio: - <code>type \u2208 { 'expense','income' }</code> - <code>paymentMethod \u2208 { 'cash','card' }</code>; si es <code>card</code>, se recomienda validar <code>cardId</code> en el cliente. - <code>amount</code> es decimal (10,2); <code>date</code> es <code>DATEONLY (YYYY-MM-DD)</code>.</p>"},{"location":"dev/backend/#ejemplos_3","title":"Ejemplos","text":"<pre><code>// GET /api/transactions (response)\n[\n  {\n    \"id\": 100,\n    \"type\": \"expense\",\n    \"description\": \"Supermercado\",\n    \"amount\": \"45.90\",\n    \"date\": \"2025-11-24\",\n    \"paymentMethod\": \"card\",\n    \"UserId\": 1,\n    \"CategoryId\": 10,\n    \"CardId\": 5,\n    \"Category\": { \"id\": 10, \"name\": \"Alimentaci\u00f3n\", \"color\": \"#22c55e\", \"type\": \"expense\" },\n    \"Card\": { \"id\": 5, \"name\": \"Visa Personal\", \"color\": \"#0ea5e9\", \"last4\": \"1234\" }\n  }\n]\n</code></pre> <pre><code>// POST /api/transactions (request)\n{\n  \"type\": \"expense\",\n  \"description\": \"Taxi\",\n  \"categoryId\": 12,\n  \"amount\": \"8.50\",\n  \"date\": \"2025-11-25\",\n  \"paymentMethod\": \"cash\",\n  \"cardId\": null\n}\n\n// 200 (response)\n{\n  \"id\": 101,\n  \"type\": \"expense\",\n  \"description\": \"Taxi\",\n  \"amount\": \"8.50\",\n  \"date\": \"2025-11-25\",\n  \"paymentMethod\": \"cash\",\n  \"UserId\": 1,\n  \"CategoryId\": 12,\n  \"CardId\": null,\n  \"Category\": { \"id\": 12, \"name\": \"Transporte\", \"color\": \"#f59e0b\", \"type\": \"expense\" },\n  \"Card\": null\n}\n</code></pre> curl <pre><code>curl -X GET \"http://localhost:4000/api/transactions\" \\\n  -H \"Authorization: Bearer &lt;token&gt;\"\n</code></pre> HTTPie <pre><code>http :4000/api/transactions Authorization:\"Bearer &lt;token&gt;\"\n</code></pre>"},{"location":"dev/backend/#codigos-de-estado_3","title":"C\u00f3digos de estado","text":"Operaci\u00f3n 200 400 404 500 list array con relaciones \u2014 \u2014 error servidor create transacci\u00f3n creada campos inv\u00e1lidos \u2014 error servidor update transacci\u00f3n actualizada campos inv\u00e1lidos no encontrada error servidor delete { success: true } \u2014 no encontrada error servidor"},{"location":"dev/backend/#presupuestos-apibudgets-auth","title":"Presupuestos (<code>/api/budgets</code>) [auth]","text":"<ul> <li><code>GET /</code> \u2192 Lista presupuestos del usuario.</li> <li><code>POST /</code> \u2192 Crea <code>{ month, year, amount }</code>.</li> <li><code>PUT /:id</code> \u2192 Actualiza <code>{ month, year, amount }</code>.</li> <li><code>DELETE /:id</code> \u2192 Elimina.</li> </ul> <p>Notas: - Un presupuesto es mensual (mes/a\u00f1o). El dashboard compara consumo de gastos contra el presupuesto del mes.</p>"},{"location":"dev/backend/#ejemplos_4","title":"Ejemplos","text":"<pre><code>// POST /api/budgets (request)\n{ \"month\": 11, \"year\": 2025, \"amount\": \"500.00\" }\n\n// 200 (response)\n{ \"id\": 3, \"month\": 11, \"year\": 2025, \"amount\": \"500.00\", \"UserId\": 1 }\n</code></pre> curl <pre><code>curl -X PUT http://localhost:4000/api/budgets/3 \\\n  -H \"Authorization: Bearer &lt;token&gt;\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"month\":11,\"year\":2025,\"amount\":\"650.00\"}'\n</code></pre> HTTPie <pre><code>http PUT :4000/api/budgets/3 Authorization:\"Bearer &lt;token&gt;\" \\\n  month:=11 year:=2025 amount=\"650.00\"\n</code></pre>"},{"location":"dev/backend/#codigos-de-estado_4","title":"C\u00f3digos de estado","text":"Operaci\u00f3n 200 400 404 500 list array de presupuestos \u2014 \u2014 error servidor create presupuesto creado cuerpo inv\u00e1lido \u2014 error servidor update presupuesto actualizado cuerpo inv\u00e1lido no encontrado error servidor delete { success: true } \u2014 no encontrado error servidor"},{"location":"dev/backend/#estadisticas-apistats-auth","title":"Estad\u00edsticas (<code>/api/stats</code>) [auth]","text":"<ul> <li><code>GET /summary?period=&lt;YYYY-MM|all&gt;</code></li> <li>Resumen: <code>{ totals, categories, incomeVsExpense, paymentMethods, perCard, budgetAmount }</code>.</li> <li>Filtros: si <code>period !== 'all'</code>, aplica rango <code>[YYYY-MM-01, YYYY-MM-\u00faltimo d\u00eda]</code>.</li> <li><code>GET /export?period=&lt;YYYY-MM|all&gt;</code></li> <li>Devuelve un <code>.xlsx</code> con hojas: <code>Transactions</code>, <code>Overview</code>, <code>IncomeVsExpenses</code>, <code>Categories</code>, <code>BudgetVsActual</code>, <code>PerCard</code>.</li> </ul>"},{"location":"dev/backend/#ejemplos_5","title":"Ejemplos","text":"<pre><code>// GET /api/stats/summary?period=2025-11 (response)\n{\n  \"totals\": { \"income\": 1200.00, \"expense\": 800.00, \"transactions\": 42, \"balance\": 400.00 },\n  \"categories\": [ { \"name\": \"Alimentaci\u00f3n\", \"amount\": 230.50, \"color\": \"#22c55e\" } ],\n  \"incomeVsExpense\": [ { \"date\": \"2025-11-01\", \"income\": 0, \"expense\": 35.20 } ],\n  \"paymentMethods\": { \"cash\": 320.00, \"card\": 480.00 },\n  \"perCard\": { \"Visa Personal\": 300.00, \"Mastercard Trabajo\": 180.00 },\n  \"budgetAmount\": 500.00\n}\n</code></pre> <pre><code>// GET /api/stats/export?period=2025-11\nContent-Type: application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\nContent-Disposition: attachment; filename=transactions_2025-11.xlsx\n</code></pre> curl <pre><code>curl -G http://localhost:4000/api/stats/summary \\\n  -H \"Authorization: Bearer &lt;token&gt;\" \\\n  --data-urlencode period=2025-11\n</code></pre> HTTPie <pre><code>http GET :4000/api/stats/summary Authorization:\"Bearer &lt;token&gt;\" period==2025-11\n</code></pre>"},{"location":"dev/backend/#codigos-de-estado_5","title":"C\u00f3digos de estado","text":"Operaci\u00f3n 200 400 404 500 summary m\u00e9tricas del per\u00edodo <code>period</code> inv\u00e1lido \u2014 error servidor export archivo Excel <code>period</code> inv\u00e1lido \u2014 error servidor"},{"location":"dev/backend/#resumen-de-endpoints","title":"Resumen de endpoints","text":"M\u00e9todo Ruta Auth Body (req) Respuesta (principal) POST <code>/api/auth/register</code> No <code>name,email,password</code> <code>id,name,email</code> POST <code>/api/auth/login</code> No <code>email,password</code> <code>token,user</code> POST <code>/api/auth/reset-start</code> No <code>email</code> <code>exists:boolean</code> POST <code>/api/auth/reset</code> No <code>email,password</code> <code>success:boolean</code> GET <code>/api/categories</code> S\u00ed \u2014 array de categor\u00edas POST <code>/api/categories</code> S\u00ed <code>name,color,type</code> categor\u00eda PUT <code>/api/categories/:id</code> S\u00ed <code>name,color,type</code> categor\u00eda DELETE <code>/api/categories/:id</code> S\u00ed \u2014 <code>{ success:true }</code> GET <code>/api/cards</code> S\u00ed \u2014 array de tarjetas POST <code>/api/cards</code> S\u00ed <code>name,color,last4</code> tarjeta PUT <code>/api/cards/:id</code> S\u00ed <code>name,color,last4</code> tarjeta DELETE <code>/api/cards/:id</code> S\u00ed \u2014 <code>{ success:true }</code> GET <code>/api/transactions</code> S\u00ed \u2014 array con <code>Category</code> y <code>Card</code> POST <code>/api/transactions</code> S\u00ed <code>type,description,categoryId,amount,date,paymentMethod,cardId</code> transacci\u00f3n con relaciones PUT <code>/api/transactions/:id</code> S\u00ed mismos campos transacci\u00f3n con relaciones DELETE <code>/api/transactions/:id</code> S\u00ed \u2014 <code>{ success:true }</code> GET <code>/api/budgets</code> S\u00ed \u2014 array de presupuestos POST <code>/api/budgets</code> S\u00ed <code>month,year,amount</code> presupuesto PUT <code>/api/budgets/:id</code> S\u00ed <code>month,year,amount</code> presupuesto DELETE <code>/api/budgets/:id</code> S\u00ed \u2014 <code>{ success:true }</code> GET <code>/api/stats/summary?period=YYYY-MM|all</code> S\u00ed \u2014 m\u00e9tricas del per\u00edodo GET <code>/api/stats/export?period=YYYY-MM|all</code> S\u00ed \u2014 archivo <code>.xlsx</code>"},{"location":"dev/backend/#errores-y-seguridad","title":"Errores y seguridad","text":"<ul> <li>Todos los endpoints atrapados devuelven <code>500</code> con <code>{ message: 'Server error' }</code> en excepciones.</li> <li>Endpoints protegidos verifican pertenencia de recursos con <code>UserId</code>.</li> <li>JWT expira en 7 d\u00edas; renueva sesi\u00f3n con <code>login</code>.</li> </ul>"},{"location":"dev/backend/#buenas-practicas","title":"Buenas pr\u00e1cticas","text":"<ul> <li>No registrar claves ni tokens.</li> <li>Validar entradas en cliente (campos requeridos) y servidor.</li> <li>Mantener <code>amount</code> como n\u00famero positivo; <code>date</code> en formato <code>YYYY-MM-DD</code>.</li> </ul>"},{"location":"dev/backend/#validaciones-por-endpoint","title":"Validaciones por endpoint","text":""},{"location":"dev/backend/#apiauth","title":"/api/auth","text":"Campo Tipo Requerido Valores/Formato Notas name (register) string s\u00ed texto se almacena tal cual email (register/login/reset) string s\u00ed email v\u00e1lido \u00fanico en DB (register) password (register/login/reset) string s\u00ed texto se cifra con bcrypt"},{"location":"dev/backend/#apicategories","title":"/api/categories","text":"Campo Tipo Requerido Valores/Formato Notas name string s\u00ed texto nombre visible en UI color string s\u00ed <code>#RRGGBB</code> recomendado no se valida formato en backend type enum s\u00ed <code>expense</code>/<code>income</code> determina el agrupamiento en reportes"},{"location":"dev/backend/#apicards","title":"/api/cards","text":"Campo Tipo Requerido Valores/Formato Notas name string s\u00ed texto identifica la tarjeta color string s\u00ed <code>#RRGGBB</code> recomendado usado para distinguir en UI last4 string s\u00ed <code>0000</code> recomendado no se valida que sean 4 d\u00edgitos"},{"location":"dev/backend/#apitransactions","title":"/api/transactions","text":"Campo Tipo Requerido Valores/Formato Notas type enum s\u00ed <code>expense</code>/<code>income</code> impacta en totales y balance description string s\u00ed texto detalle del movimiento amount decimal(10,2) s\u00ed n\u00famero positivo mostrado con dos decimales date date s\u00ed <code>YYYY-MM-DD</code> se usa para filtros y series paymentMethod enum s\u00ed (gastos) <code>cash</code>/<code>card</code> para ingresos normalmente no aplica categoryId int opcional id v\u00e1lido o <code>null</code> si falta, transacci\u00f3n queda \u201cUncategorized\u201d cardId int opcional id v\u00e1lido o <code>null</code> recomendado si <code>paymentMethod = 'card'</code>"},{"location":"dev/backend/#apibudgets","title":"/api/budgets","text":"Campo Tipo Requerido Valores/Formato Notas month int s\u00ed 1\u201312 recomendado no se valida rango en backend year int s\u00ed a\u00f1o (p.ej. 2025) amount decimal(10,2) s\u00ed n\u00famero positivo comparado contra gastos del mes"},{"location":"dev/backend/#reglas-transversales","title":"Reglas transversales","text":"<ul> <li><code>UserId</code> se asigna desde el JWT y filtra todos los recursos.</li> <li>En actualizaciones, el backend permite <code>CategoryId</code> y <code>CardId</code> <code>null</code> para dejar el campo vac\u00edo.</li> </ul>"},{"location":"dev/base-datos/","title":"Base de datos","text":""},{"location":"dev/base-datos/#esquema-general","title":"Esquema general","text":"<pre><code>erDiagram\n  User ||--o{ Category : owns\n  User ||--o{ Card : owns\n  User ||--o{ Transaction : owns\n  User ||--o{ Budget : owns\n  Category ||--o{ Transaction : categorizes\n  Card ||--o{ Transaction : pays\n  User {\n    int id PK\n    string name\n    string email\n    string passwordHash\n  }\n  Category {\n    int id PK\n    string name\n    string color\n    string type\n    int UserId\n  }\n  Card {\n    int id PK\n    string name\n    string color\n    string last4\n    int UserId\n  }\n  Transaction {\n    int id PK\n    string type\n    string description\n    float amount\n    date date\n    string paymentMethod\n    int UserId\n    int CategoryId\n    int CardId\n  }\n  Budget {\n    int id PK\n    int month\n    int year\n    float amount\n    int UserId\n  }</code></pre>"},{"location":"dev/base-datos/#tablas-y-campos","title":"Tablas y campos","text":"<ul> <li><code>User</code></li> <li><code>email</code> \u00fanico; <code>passwordHash</code> con bcrypt.</li> <li><code>Category</code></li> <li><code>type</code>: separa categor\u00edas de gastos e ingresos.</li> <li><code>color</code>: usado para gr\u00e1ficos y chips en UI.</li> <li><code>Card</code></li> <li><code>last4</code>: \u00faltimos 4 d\u00edgitos; <code>color</code> para identificaci\u00f3n visual.</li> <li><code>Transaction</code></li> <li><code>type</code>: <code>expense</code> o <code>income</code>.</li> <li><code>paymentMethod</code>: <code>cash</code> o <code>card</code>; si <code>card</code>, <code>CardId</code> puede ser requerido por UI.</li> <li><code>CategoryId</code> y <code>CardId</code> permiten <code>NULL</code>.</li> <li><code>Budget</code></li> <li>Por mes/a\u00f1o; un usuario puede tener varios presupuestos hist\u00f3ricos.</li> </ul>"},{"location":"dev/base-datos/#relaciones-y-consideraciones","title":"Relaciones y consideraciones","text":"<ul> <li>Todas las tablas (excepto <code>User</code>) tienen <code>UserId</code> para asegurar propiedad.</li> <li>El c\u00e1lculo de estad\u00edsticas filtra por fecha y tipo; las categor\u00edas en estad\u00edsticas se computan solo para gastos.</li> <li>Mant\u00e9n <code>date</code> como <code>YYYY-MM-DD</code> para simplificar filtros por rango.</li> </ul>"},{"location":"dev/configuracion/","title":"Configuraci\u00f3n","text":""},{"location":"dev/configuracion/#variables-de-entorno-api","title":"Variables de entorno (API)","text":"<ul> <li><code>DATABASE_URL</code> o par\u00e1metros de conexi\u00f3n.</li> <li><code>JWT_SECRET</code></li> <li><code>PORT</code> (por defecto <code>4000</code>).</li> </ul>"},{"location":"dev/configuracion/#cliente","title":"Cliente","text":"<ul> <li>Config de <code>api</code> base URL.</li> <li>Opciones de tema y estilos.</li> </ul>"},{"location":"dev/configuracion/#seeds-opcionales","title":"Seeds opcionales","text":"<ul> <li>Categor\u00edas y tarjetas iniciales para desarrollo.</li> </ul>"},{"location":"dev/deploy/","title":"Despliegue","text":""},{"location":"dev/deploy/#cliente","title":"Cliente","text":"<ul> <li>Construcci\u00f3n y despliegue en hosting est\u00e1tico.</li> </ul>"},{"location":"dev/deploy/#api","title":"API","text":"<ul> <li>Despliegue en servicio Node (PM2/Docker), con DB gestionada.</li> </ul>"},{"location":"dev/deploy/#documentacion","title":"Documentaci\u00f3n","text":"<ul> <li>GitHub Pages mediante <code>mkdocs gh-deploy</code> o CI.</li> </ul>"},{"location":"dev/frontend/","title":"Frontend (goals-client)","text":""},{"location":"dev/frontend/#estructura","title":"Estructura","text":"<ul> <li>React + Vite con HMR.</li> <li>Rutas principales: <code>Dashboard</code>, <code>Transactions</code>, <code>Settings</code>.</li> <li>Componentes UI reutilizables (inputs, selects, alerts, dialogs).</li> </ul>"},{"location":"dev/frontend/#ejecucion-local","title":"Ejecuci\u00f3n local","text":"<ul> <li>Clonar repo: <code>git clone https://github.com/fernandofedora/goals-client</code></li> <li>Instalar: <code>npm install</code></li> <li>Dev: <code>npm run dev</code> (abre <code>http://localhost:5173/</code>)</li> </ul>"},{"location":"dev/frontend/#puntos-clave","title":"Puntos clave","text":"<ul> <li>Filtros de transacciones (tipo, fecha, payment, categor\u00eda).</li> <li>Formulario unificado para ingresos/gastos con toggle.</li> <li>Integraci\u00f3n con API v\u00eda <code>api.js</code>.</li> </ul>"},{"location":"dev/instalacion/","title":"Instalaci\u00f3n","text":""},{"location":"dev/instalacion/#requisitos","title":"Requisitos","text":"<ul> <li>Node.js 18+</li> <li>Python 3.x (para construir docs localmente)</li> <li>PostgreSQL 13+</li> </ul>"},{"location":"dev/instalacion/#frontend","title":"Frontend","text":"<ul> <li><code>npm install</code></li> <li><code>npm run dev</code></li> </ul>"},{"location":"dev/instalacion/#backend","title":"Backend","text":"<ul> <li>Configurar <code>.env</code> (DB, JWT_SECRET)</li> <li><code>npm install</code></li> <li><code>npm run dev</code></li> </ul>"},{"location":"dev/instalacion/#documentacion","title":"Documentaci\u00f3n","text":"<ul> <li><code>pip install mkdocs-material</code></li> <li><code>mkdocs serve</code> en <code>goal-document/</code></li> </ul>"},{"location":"dev/postman/","title":"Colecci\u00f3n Postman","text":""},{"location":"dev/postman/#introduccion","title":"Introducci\u00f3n","text":"<ul> <li>Importa esta colecci\u00f3n para probar r\u00e1pidamente el API.</li> <li>Usa variables <code>base_url</code> y <code>token</code> para no repetir valores.</li> </ul>"},{"location":"dev/postman/#variables","title":"Variables","text":"<ul> <li><code>base_url</code>: <code>http://localhost:4000/api</code></li> <li><code>token</code>: <code>Bearer &lt;jwt&gt;</code> obtenido desde <code>POST /api/auth/login</code>.</li> </ul>"},{"location":"dev/postman/#importar","title":"Importar","text":"<ul> <li>Copia el JSON y en Postman: \"Import\" \u2192 \"Raw text\" \u2192 pega el contenido.</li> </ul>"},{"location":"dev/postman/#coleccion-json","title":"Colecci\u00f3n (JSON)","text":"<pre><code>{\n  \"info\": {\n    \"name\": \"goals-system API\",\n    \"schema\": \"https://schema.getpostman.com/json/collection/v2.1.0/collection.json\"\n  },\n  \"item\": [\n    {\n      \"name\": \"Auth\",\n      \"item\": [\n        {\n          \"name\": \"Login\",\n          \"request\": {\n            \"method\": \"POST\",\n            \"header\": [ { \"key\": \"Content-Type\", \"value\": \"application/json\" } ],\n            \"url\": { \"raw\": \"{{base_url}}/auth/login\", \"host\": [\"{{base_url}}\"], \"path\": [\"auth\",\"login\"] },\n            \"body\": { \"mode\": \"raw\", \"raw\": \"{\\n  \\\"email\\\": \\\"ana@example.com\\\",\\n  \\\"password\\\": \\\"secret123\\\"\\n}\" }\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"Categories\",\n      \"item\": [\n        {\n          \"name\": \"List\",\n          \"request\": {\n            \"method\": \"GET\",\n            \"header\": [ { \"key\": \"Authorization\", \"value\": \"{{token}}\" } ],\n            \"url\": { \"raw\": \"{{base_url}}/categories\", \"host\": [\"{{base_url}}\"], \"path\": [\"categories\"] }\n          }\n        },\n        {\n          \"name\": \"Create\",\n          \"request\": {\n            \"method\": \"POST\",\n            \"header\": [ { \"key\": \"Authorization\", \"value\": \"{{token}}\" }, { \"key\": \"Content-Type\", \"value\": \"application/json\" } ],\n            \"url\": { \"raw\": \"{{base_url}}/categories\", \"host\": [\"{{base_url}}\"], \"path\": [\"categories\"] },\n            \"body\": { \"mode\": \"raw\", \"raw\": \"{\\n  \\\"name\\\": \\\"Transporte\\\",\\n  \\\"color\\\": \\\"#f59e0b\\\",\\n  \\\"type\\\": \\\"expense\\\"\\n}\" }\n          }\n        },\n        {\n          \"name\": \"Update\",\n          \"request\": {\n            \"method\": \"PUT\",\n            \"header\": [ { \"key\": \"Authorization\", \"value\": \"{{token}}\" }, { \"key\": \"Content-Type\", \"value\": \"application/json\" } ],\n            \"url\": { \"raw\": \"{{base_url}}/categories/{{category_id}}\", \"host\": [\"{{base_url}}\"], \"path\": [\"categories\",\"{{category_id}}\"] },\n            \"body\": { \"mode\": \"raw\", \"raw\": \"{\\n  \\\"name\\\": \\\"Transporte Urbano\\\",\\n  \\\"color\\\": \\\"#f59e0b\\\",\\n  \\\"type\\\": \\\"expense\\\"\\n}\" }\n          }\n        },\n        {\n          \"name\": \"Delete\",\n          \"request\": {\n            \"method\": \"DELETE\",\n            \"header\": [ { \"key\": \"Authorization\", \"value\": \"{{token}}\" } ],\n            \"url\": { \"raw\": \"{{base_url}}/categories/{{category_id}}\", \"host\": [\"{{base_url}}\"], \"path\": [\"categories\",\"{{category_id}}\"] }\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"Cards\",\n      \"item\": [\n        {\n          \"name\": \"List\",\n          \"request\": {\n            \"method\": \"GET\",\n            \"header\": [ { \"key\": \"Authorization\", \"value\": \"{{token}}\" } ],\n            \"url\": { \"raw\": \"{{base_url}}/cards\", \"host\": [\"{{base_url}}\"], \"path\": [\"cards\"] }\n          }\n        },\n        {\n          \"name\": \"Create\",\n          \"request\": {\n            \"method\": \"POST\",\n            \"header\": [ { \"key\": \"Authorization\", \"value\": \"{{token}}\" }, { \"key\": \"Content-Type\", \"value\": \"application/json\" } ],\n            \"url\": { \"raw\": \"{{base_url}}/cards\", \"host\": [\"{{base_url}}\"], \"path\": [\"cards\"] },\n            \"body\": { \"mode\": \"raw\", \"raw\": \"{\\n  \\\"name\\\": \\\"Visa Personal\\\",\\n  \\\"color\\\": \\\"#0ea5e9\\\",\\n  \\\"last4\\\": \\\"1234\\\"\\n}\" }\n          }\n        },\n        {\n          \"name\": \"Update\",\n          \"request\": {\n            \"method\": \"PUT\",\n            \"header\": [ { \"key\": \"Authorization\", \"value\": \"{{token}}\" }, { \"key\": \"Content-Type\", \"value\": \"application/json\" } ],\n            \"url\": { \"raw\": \"{{base_url}}/cards/{{card_id}}\", \"host\": [\"{{base_url}}\"], \"path\": [\"cards\",\"{{card_id}}\"] },\n            \"body\": { \"mode\": \"raw\", \"raw\": \"{\\n  \\\"name\\\": \\\"Visa Personal\\\",\\n  \\\"color\\\": \\\"#0ea5e9\\\",\\n  \\\"last4\\\": \\\"5678\\\"\\n}\" }\n          }\n        },\n        {\n          \"name\": \"Delete\",\n          \"request\": {\n            \"method\": \"DELETE\",\n            \"header\": [ { \"key\": \"Authorization\", \"value\": \"{{token}}\" } ],\n            \"url\": { \"raw\": \"{{base_url}}/cards/{{card_id}}\", \"host\": [\"{{base_url}}\"], \"path\": [\"cards\",\"{{card_id}}\"] }\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"Transactions\",\n      \"item\": [\n        {\n          \"name\": \"List\",\n          \"request\": {\n            \"method\": \"GET\",\n            \"header\": [ { \"key\": \"Authorization\", \"value\": \"{{token}}\" } ],\n            \"url\": { \"raw\": \"{{base_url}}/transactions\", \"host\": [\"{{base_url}}\"], \"path\": [\"transactions\"] }\n          }\n        },\n        {\n          \"name\": \"Create\",\n          \"request\": {\n            \"method\": \"POST\",\n            \"header\": [ { \"key\": \"Authorization\", \"value\": \"{{token}}\" }, { \"key\": \"Content-Type\", \"value\": \"application/json\" } ],\n            \"url\": { \"raw\": \"{{base_url}}/transactions\", \"host\": [\"{{base_url}}\"], \"path\": [\"transactions\"] },\n            \"body\": { \"mode\": \"raw\", \"raw\": \"{\\n  \\\"type\\\": \\\"expense\\\",\\n  \\\"description\\\": \\\"Taxi\\\",\\n  \\\"categoryId\\\": {{category_id}},\\n  \\\"amount\\\": \\\"8.50\\\",\\n  \\\"date\\\": \\\"2025-11-25\\\",\\n  \\\"paymentMethod\\\": \\\"cash\\\",\\n  \\\"cardId\\\": null\\n}\" }\n          }\n        },\n        {\n          \"name\": \"Update\",\n          \"request\": {\n            \"method\": \"PUT\",\n            \"header\": [ { \"key\": \"Authorization\", \"value\": \"{{token}}\" }, { \"key\": \"Content-Type\", \"value\": \"application/json\" } ],\n            \"url\": { \"raw\": \"{{base_url}}/transactions/{{transaction_id}}\", \"host\": [\"{{base_url}}\"], \"path\": [\"transactions\",\"{{transaction_id}}\"] },\n            \"body\": { \"mode\": \"raw\", \"raw\": \"{\\n  \\\"type\\\": \\\"expense\\\",\\n  \\\"description\\\": \\\"Taxi nocturno\\\",\\n  \\\"categoryId\\\": {{category_id}},\\n  \\\"amount\\\": \\\"9.75\\\",\\n  \\\"date\\\": \\\"2025-11-25\\\",\\n  \\\"paymentMethod\\\": \\\"cash\\\",\\n  \\\"cardId\\\": null\\n}\" }\n          }\n        },\n        {\n          \"name\": \"Delete\",\n          \"request\": {\n            \"method\": \"DELETE\",\n            \"header\": [ { \"key\": \"Authorization\", \"value\": \"{{token}}\" } ],\n            \"url\": { \"raw\": \"{{base_url}}/transactions/{{transaction_id}}\", \"host\": [\"{{base_url}}\"], \"path\": [\"transactions\",\"{{transaction_id}}\"] }\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"Budgets\",\n      \"item\": [\n        {\n          \"name\": \"List\",\n          \"request\": {\n            \"method\": \"GET\",\n            \"header\": [ { \"key\": \"Authorization\", \"value\": \"{{token}}\" } ],\n            \"url\": { \"raw\": \"{{base_url}}/budgets\", \"host\": [\"{{base_url}}\"], \"path\": [\"budgets\"] }\n          }\n        },\n        {\n          \"name\": \"Create\",\n          \"request\": {\n            \"method\": \"POST\",\n            \"header\": [ { \"key\": \"Authorization\", \"value\": \"{{token}}\" }, { \"key\": \"Content-Type\", \"value\": \"application/json\" } ],\n            \"url\": { \"raw\": \"{{base_url}}/budgets\", \"host\": [\"{{base_url}}\"], \"path\": [\"budgets\"] },\n            \"body\": { \"mode\": \"raw\", \"raw\": \"{\\n  \\\"month\\\": 11,\\n  \\\"year\\\": 2025,\\n  \\\"amount\\\": \\\"500.00\\\"\\n}\" }\n          }\n        },\n        {\n          \"name\": \"Update\",\n          \"request\": {\n            \"method\": \"PUT\",\n            \"header\": [ { \"key\": \"Authorization\", \"value\": \"{{token}}\" }, { \"key\": \"Content-Type\", \"value\": \"application/json\" } ],\n            \"url\": { \"raw\": \"{{base_url}}/budgets/{{budget_id}}\", \"host\": [\"{{base_url}}\"], \"path\": [\"budgets\",\"{{budget_id}}\"] },\n            \"body\": { \"mode\": \"raw\", \"raw\": \"{\\n  \\\"month\\\": 11,\\n  \\\"year\\\": 2025,\\n  \\\"amount\\\": \\\"650.00\\\"\\n}\" }\n          }\n        },\n        {\n          \"name\": \"Delete\",\n          \"request\": {\n            \"method\": \"DELETE\",\n            \"header\": [ { \"key\": \"Authorization\", \"value\": \"{{token}}\" } ],\n            \"url\": { \"raw\": \"{{base_url}}/budgets/{{budget_id}}\", \"host\": [\"{{base_url}}\"], \"path\": [\"budgets\",\"{{budget_id}}\"] }\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"Stats\",\n      \"item\": [\n        {\n          \"name\": \"Summary\",\n          \"request\": {\n            \"method\": \"GET\",\n            \"header\": [ { \"key\": \"Authorization\", \"value\": \"{{token}}\" } ],\n            \"url\": { \"raw\": \"{{base_url}}/stats/summary?period={{period}}\", \"host\": [\"{{base_url}}\"], \"path\": [\"stats\",\"summary\"], \"query\": [ { \"key\": \"period\", \"value\": \"{{period}}\" } ] }\n          }\n        },\n        {\n          \"name\": \"Export\",\n          \"request\": {\n            \"method\": \"GET\",\n            \"header\": [ { \"key\": \"Authorization\", \"value\": \"{{token}}\" } ],\n            \"url\": { \"raw\": \"{{base_url}}/stats/export?period={{period}}\", \"host\": [\"{{base_url}}\"], \"path\": [\"stats\",\"export\"], \"query\": [ { \"key\": \"period\", \"value\": \"{{period}}\" } ] }\n          }\n        }\n      ]\n    }\n  ],\n  \"variable\": [\n    { \"key\": \"base_url\", \"value\": \"http://localhost:4000/api\" },\n    { \"key\": \"token\", \"value\": \"Bearer &lt;jwt&gt;\" },\n    { \"key\": \"period\", \"value\": \"2025-11\" },\n    { \"key\": \"category_id\", \"value\": \"12\" },\n    { \"key\": \"card_id\", \"value\": \"5\" },\n    { \"key\": \"transaction_id\", \"value\": \"101\" },\n    { \"key\": \"budget_id\", \"value\": \"3\" }\n  ]\n}\n</code></pre>"},{"location":"dev/postman/#consejos","title":"Consejos","text":"<ul> <li>Guarda el <code>token</code> de la respuesta de Login en la variable <code>token</code>.</li> <li>Crea m\u00e1s items: <code>categories/cards/budgets</code> CRUD, <code>stats/export</code>.</li> <li>Puedes usar Tests en la petici\u00f3n de Login para guardar el token autom\u00e1ticamente:    <pre><code>// En la pesta\u00f1a Tests de Postman\nconst json = pm.response.json();\nif (json.token) pm.collectionVariables.set('token', `Bearer ${json.token}`);\n</code></pre></li> </ul>"},{"location":"dev/scripts/","title":"Scripts de prueba","text":""},{"location":"dev/scripts/#bash-macoslinux","title":"Bash (macOS/Linux)","text":"<pre><code># Login y capturar token\nTOKEN=$(curl -s -X POST http://localhost:4000/api/auth/login \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"email\":\"ana@example.com\",\"password\":\"secret123\"}' | jq -r .token)\n\n# Crear categor\u00eda\ncurl -s -X POST http://localhost:4000/api/categories \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"name\":\"Transporte\",\"color\":\"#f59e0b\",\"type\":\"expense\"}' | jq\n\n# Crear transacci\u00f3n (gasto efectivo)\ncurl -s -X POST http://localhost:4000/api/transactions \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"type\":\"expense\",\"description\":\"Taxi\",\"categoryId\":12,\"amount\":\"8.50\",\"date\":\"2025-11-25\",\"paymentMethod\":\"cash\",\"cardId\":null}' | jq\n\n# Resumen del mes\ncurl -s -G http://localhost:4000/api/stats/summary \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  --data-urlencode period=2025-11 | jq\n</code></pre>"},{"location":"dev/scripts/#powershell-windows","title":"PowerShell (Windows)","text":"<pre><code># Login y capturar token\n$loginBody = @{ email = 'ana@example.com'; password = 'secret123' } | ConvertTo-Json\n$loginRes = Invoke-RestMethod -Method Post -Uri 'http://localhost:4000/api/auth/login' -ContentType 'application/json' -Body $loginBody\n$TOKEN = $loginRes.token\n\n# Crear categor\u00eda\n$catBody = @{ name = 'Transporte'; color = '#f59e0b'; type = 'expense' } | ConvertTo-Json\nInvoke-RestMethod -Method Post -Uri 'http://localhost:4000/api/categories' -ContentType 'application/json' -Headers @{ Authorization = \"Bearer $TOKEN\" } -Body $catBody\n\n# Crear transacci\u00f3n\n$txBody = @{ type = 'expense'; description = 'Taxi'; categoryId = 12; amount = '8.50'; date = '2025-11-25'; paymentMethod = 'cash'; cardId = $null } | ConvertTo-Json\nInvoke-RestMethod -Method Post -Uri 'http://localhost:4000/api/transactions' -ContentType 'application/json' -Headers @{ Authorization = \"Bearer $TOKEN\" } -Body $txBody\n\n# Resumen del mes\nInvoke-RestMethod -Method Get -Uri 'http://localhost:4000/api/stats/summary?period=2025-11' -Headers @{ Authorization = \"Bearer $TOKEN\" }\n</code></pre>"},{"location":"dev/scripts/#notas","title":"Notas","text":"<ul> <li>Requiere tener usuarios y credenciales v\u00e1lidas.</li> <li>Ajusta <code>categoryId</code> y fechas seg\u00fan tus datos.</li> </ul>"},{"location":"dev/seguridad/","title":"Seguridad","text":"<ul> <li>No exponer secretos en repos.</li> <li>JWT seguro y expiraci\u00f3n razonable.</li> <li>Sanitizaci\u00f3n/validaci\u00f3n de entradas.</li> <li>CORS y headers adecuados.</li> </ul>"},{"location":"dev/tests/","title":"Pruebas","text":"<ul> <li>Estrategia de pruebas para API y cliente.</li> <li>Mocks de datos y fixtures.</li> <li>Cobertura y herramientas recomendadas.</li> </ul>"},{"location":"dev/workflow/","title":"Flujo de desarrollo","text":"<ul> <li>Convenciones de ramas: <code>feature/</code>, <code>fix/</code>, <code>docs/</code>.</li> <li>PRs con revisi\u00f3n obligatoria.</li> <li>Lint y formato consistente.</li> <li>Commits claros y at\u00f3micos.</li> </ul>"},{"location":"dev/workflow/#flujos-del-sistema","title":"Flujos del sistema","text":""},{"location":"dev/workflow/#arranque-de-cuenta","title":"Arranque de cuenta","text":"<ul> <li>Registrar usuario y hacer login.</li> <li>Configurar categor\u00edas y tarjetas.</li> <li>Definir presupuesto mensual.</li> <li>Ver: <code>Usuarios \u2192 Gu\u00eda de inicio</code> (<code>user/guia-inicio.md</code>).</li> </ul>"},{"location":"dev/workflow/#registro-de-gasto","title":"Registro de gasto","text":"<ul> <li>Crear transacci\u00f3n tipo \u201cGasto\u201d con descripci\u00f3n, monto, fecha y categor\u00eda.</li> <li>Elegir m\u00e9todo de pago (efectivo/tarjeta) y tarjeta si aplica.</li> <li>Ver: <code>Usuarios \u2192 Transacciones</code> (<code>user/transacciones.md</code>).</li> <li>API: <code>POST /api/transactions</code> en <code>Backend/API</code> (<code>dev/backend.md</code>).</li> </ul>"},{"location":"dev/workflow/#cierre-mensual","title":"Cierre mensual","text":"<ul> <li>Consultar resumen del mes seleccionado.</li> <li>Exportar Excel para an\u00e1lisis.</li> <li>Ajustar presupuesto del siguiente mes.</li> <li>Ver: <code>Usuarios \u2192 Reportes</code> (<code>user/reportes.md</code>) y <code>Usuarios \u2192 Presupuestos</code> (<code>user/presupuestos.md</code>).</li> <li>API: <code>GET /api/stats/summary?period=YYYY-MM</code> y <code>GET /api/stats/export?period=YYYY-MM</code>.</li> </ul>"},{"location":"dev/workflow/#mantenimiento-de-categorias-y-tarjetas","title":"Mantenimiento de categor\u00edas y tarjetas","text":"<ul> <li>Editar/crear categor\u00edas y tarjetas seg\u00fan tus necesidades.</li> <li>Ver: <code>Usuarios \u2192 Tarjetas</code> (<code>user/tarjetas.md</code>).</li> <li>API: <code>POST/PUT/DELETE /api/categories</code>, <code>POST/PUT/DELETE /api/cards</code>.</li> </ul>"},{"location":"dev/workflow/#enlaces-utiles","title":"Enlaces \u00fatiles","text":"<ul> <li>Backend/API: <code>dev/backend.md</code></li> <li>Base de datos: <code>dev/base-datos.md</code></li> </ul>"},{"location":"user/faq/","title":"FAQ","text":"<ul> <li>\u00bfNo ves transacciones? Revisa filtros de mes/a\u00f1o.</li> <li>\u00bfError de autenticaci\u00f3n? Vuelve a iniciar sesi\u00f3n.</li> <li>\u00bfNo aparecen categor\u00edas? Crea o sincroniza en Settings.</li> </ul>"},{"location":"user/guia-inicio/","title":"Gu\u00eda de inicio","text":""},{"location":"user/guia-inicio/#que-es-goals-system","title":"\u00bfQu\u00e9 es goals-system?","text":"<p>Una herramienta para registrar ingresos e ingresos, controlar gastos con presupuestos mensuales y visualizar reportes claros. Ideal para llevar el control personal de finanzas.</p>"},{"location":"user/guia-inicio/#crear-tu-cuenta","title":"Crear tu cuenta","text":"<ul> <li>Reg\u00edstrate con tu nombre, correo y una contrase\u00f1a segura.</li> <li>Inicia sesi\u00f3n; tu sesi\u00f3n permanece activa y segura.</li> </ul>"},{"location":"user/guia-inicio/#configuracion-basica","title":"Configuraci\u00f3n b\u00e1sica","text":"<ul> <li>Categor\u00edas: crea categor\u00edas de gasto e ingreso y asigna un color. Te ayudar\u00e1 a identificar r\u00e1pidamente tus movimientos.</li> <li>Tarjetas: registra tus tarjetas (nombre y \u00faltimos 4 d\u00edgitos). Puedes elegir un color para distinguirlas.</li> <li>Presupuesto: define un monto mensual por mes/a\u00f1o para controlar el consumo.</li> </ul>"},{"location":"user/guia-inicio/#registrar-transacciones","title":"Registrar transacciones","text":"<ul> <li>Selecciona si es Gasto o Ingreso.</li> <li>Completa: Descripci\u00f3n, Monto, Fecha y Categor\u00eda.</li> <li>M\u00e9todo de pago: Efectivo o Tarjeta (si eliges Tarjeta, selecciona la tarjeta).</li> <li>Guarda para que aparezca en el historial y en los reportes.</li> </ul>"},{"location":"user/guia-inicio/#visualizar-y-exportar","title":"Visualizar y exportar","text":"<ul> <li>En el dashboard ver\u00e1s tu balance, distribuci\u00f3n por categor\u00edas y consumo por tarjeta.</li> <li>Exporta a Excel para compartir o analizar.</li> </ul>"},{"location":"user/guia-inicio/#consejos","title":"Consejos","text":"<ul> <li>Mant\u00e9n categor\u00edas consistentes.</li> <li>Actualiza el presupuesto cada mes para comparar consumo.</li> </ul>"},{"location":"user/presupuestos/","title":"Presupuestos","text":""},{"location":"user/presupuestos/#crear-presupuesto-mensual","title":"Crear presupuesto mensual","text":"<ul> <li>En Transactions &gt; Budget.</li> <li>Selecciona mes y a\u00f1o.</li> <li>Ingresa el monto total disponible para el mes y guarda.</li> </ul>"},{"location":"user/presupuestos/#como-se-calcula","title":"C\u00f3mo se calcula","text":"<ul> <li>El sistema compara tus gastos del mes seleccionado contra el presupuesto.</li> <li>Ver\u00e1s el monto consumido, restante y el porcentaje consumido.</li> </ul>"},{"location":"user/presupuestos/#buenas-practicas","title":"Buenas pr\u00e1cticas","text":"<ul> <li>Ajusta el presupuesto mensualmente seg\u00fan tu realidad.</li> <li>Si superas el presupuesto, revisa categor\u00edas para detectar excesos.</li> </ul>"},{"location":"user/reportes/","title":"Reportes","text":""},{"location":"user/reportes/#vision-general","title":"Visi\u00f3n general","text":"<ul> <li>Balance: ingresos totales menos gastos totales.</li> <li>N\u00famero de transacciones registradas.</li> </ul>"},{"location":"user/reportes/#categorias","title":"Categor\u00edas","text":"<ul> <li>Distribuci\u00f3n de gastos por categor\u00eda (gr\u00e1ficos y listado).</li> <li>Usa colores de categor\u00edas para facilitar lectura.</li> </ul>"},{"location":"user/reportes/#ingresos-vs-gastos","title":"Ingresos vs gastos","text":"<ul> <li>Serie por d\u00eda para ver la evoluci\u00f3n.</li> </ul>"},{"location":"user/reportes/#metodos-de-pago-y-tarjetas","title":"M\u00e9todos de pago y tarjetas","text":"<ul> <li>Desglose de gastos por m\u00e9todo (efectivo/tarjeta).</li> <li>Monto total por cada tarjeta.</li> </ul>"},{"location":"user/reportes/#exportar-a-excel","title":"Exportar a Excel","text":"<ul> <li>Exporta el per\u00edodo seleccionado o todo.</li> <li>Incluye hojas de transacciones, totales, categor\u00edas, series y tarjetas.</li> </ul>"},{"location":"user/tarjetas/","title":"Tarjetas","text":""},{"location":"user/tarjetas/#anadir-tarjeta","title":"A\u00f1adir tarjeta","text":"<ul> <li>En Settings &gt; Credit Cards: ingresa nombre, color y \u00faltimos 4 d\u00edgitos.</li> <li>Guarda para que est\u00e9 disponible al registrar gastos.</li> </ul>"},{"location":"user/tarjetas/#uso-en-transacciones","title":"Uso en transacciones","text":"<ul> <li>Si eliges m\u00e9todo de pago <code>Tarjeta</code>, selecciona la tarjeta correspondiente.</li> <li>El color te ayuda a identificarla r\u00e1pidamente en listados y reportes.</li> </ul>"},{"location":"user/tarjetas/#consejos","title":"Consejos","text":"<ul> <li>Usa nombres claros (por ejemplo: \u201cVisa Personal\u201d).</li> <li>Verifica los \u00faltimos 4 d\u00edgitos para distinguir tarjetas similares.</li> </ul>"},{"location":"user/transacciones/","title":"Transacciones","text":""},{"location":"user/transacciones/#registrar-gastos-e-ingresos","title":"Registrar gastos e ingresos","text":"<ul> <li>Abre Transactions y elige el tipo (Gasto o Ingreso).</li> <li>Completa los campos requeridos:</li> <li>Descripci\u00f3n: qu\u00e9 es el movimiento.</li> <li>Monto: n\u00famero con dos decimales.</li> <li>Fecha: formato <code>YYYY-MM-DD</code>.</li> <li>Categor\u00eda: para gastos e ingresos; ayuda a ordenar tus reportes.</li> <li>M\u00e9todo de pago (solo gastos): Efectivo o Tarjeta.</li> <li>Tarjeta: si el m\u00e9todo es Tarjeta, selecciona una tarjeta registrada.</li> <li>Guarda y verifica que aparezca en el listado.</li> </ul>"},{"location":"user/transacciones/#editar-y-eliminar","title":"Editar y eliminar","text":"<ul> <li>Puedes editar una transacci\u00f3n para corregir datos.</li> <li>Tambi\u00e9n puedes eliminarla si no la necesitas.</li> </ul>"},{"location":"user/transacciones/#filtros-del-historial","title":"Filtros del historial","text":"<ul> <li>Filtra por tipo (Gasto/Ingreso/Todos), m\u00e9todo de pago, categor\u00eda, mes y a\u00f1o.</li> <li>Combina filtros para localizar movimientos espec\u00edficos.</li> </ul>"},{"location":"user/transacciones/#recomendaciones","title":"Recomendaciones","text":"<ul> <li>Usa categor\u00edas claras y consistentes.</li> <li>Registra la fecha real del movimiento para gr\u00e1ficos precisos.</li> </ul>"}]}